# Graph

그래프는 연결되어 있는 객체 간의 관계를 표현할 수 있는 네트워크 모델로 정점(Vertex or Node)과 간선(Edge)으로 이루어진 자료 구조를 말한다. 도심의 도로나 지하철의 노선도, 전기 회로 등이 대표적인 그래프 자료 구조의 예시라고 볼 수 있다. 정점 V와 간선 E로 이루어진 그래프 G = (V, E)로 표현한다. 정점을 연결하는 간선에 방향이 없는 경우 무방향 그래프(Undirected Graph), 방향이 있는 경우 방향 그래프(Directed Graph)라 한다. 

다음 아래 그림은 다양한 그래프의 예시를 보여준다.

a) 루프가 없고 두 정점 사이에 두 개 이상의 간선이 없는 단순 그래프(Simple Graph). 모든 정점 간의 간선이 존재하는 완전 그래프(Complete Graph)

b) 임의의 두 정점 사이에 여러 개의 간선이 있는 다중 그래프(Multigraph)

c) 자기 자신으로 돌아오는 간선(loop)가 있는 그래프

d) 간선에 데이터(label)가 있는 그래프

e) 정점에 데이터(label)가 있는 그래프

f) 정점 간의 방향을 갖고 있는 방향 그래프(Directed Graph)

g) 양방향으로 가는 간선이 없는 방향 그래프(Oriented Graph)

h) 간선에 가중치가 있는 가중 그래프(Weighted Graph)

일반적으로 자기 자신으로 돌아오는 간선(loop)과 중복된 간선(multiple edges)은 없는 단순 그래프를 생각한다.

<p align="center"><img src="https://www.researchgate.net/profile/Pawel-Boguslawski/publication/265219734/figure/fig4/AS:652964947562502@1532690383548/Graphs-a-simple-graph-b-multigraph-c-pseudograph-d-labelled-graph-edges-e.png"></p>

<br>

## 그래프의 구성 요소

- 정점(Vertex) 또는 노드(Node) : 데이터의 객체
  - 인접 정점(Adjacent Vertex) : 하나의 정점에서 간선에 의해 직접 연결되어 있는 정점
- 간선(Edge) : 노드를 연결하는 선
  - 가중치 간선(Weighted Edge) : 정점과 정점까지의 거리 또는 도달하는데 필요한 비용(cost) 등으로 가중치가 부여된 간선
- 차수(Degree) : 무방향 그래프에서 하나의 정점에 대해 인접한 정점의 개수
  - 진입 차수(In-degree) : 방향 그래프에서 외부에서 오는 간선의 개수
  - 진출 차수(out-degree) : 방향 그래프에서 외부로 나가는 간선의 개수
- 경로(path) : 하나의 정점에서 또 다른 정점까지 이어지는 간선을 통해 이어지는 길을 의미하며, 정점의 나열로 표현
  - 단순 경로(Simple Path) : 반복되는 정점이 없는 경로
  - 사이클(Cycle) : 출발 정점과 도착 정점이 동일한 단순 경로
    - 순환 그래프(Cyclic Graph) : 그래프 내에 사이클이 존재하는 그래프
    - 비순환 그래프(Acyclic Graph) : 그래프 내에 사이클이 존재하지 않는 그래프
- 탐색(traverse) : 하나의 정점에서 시작하여 그래프의 모든 정점을 한 번씩만 방문하는 것
- 연결됨(Connected) : 하나의 정점 u에서 또 다른 정점 v까지의 경로가 존재할 때 두 정점 u, v는 연결되어 있다라고 함
  - 연결 요소(Connected Component) : 적어도 한 개 이상의 경로로 연결된 정점들로 이루어진 그래프
  - 강한 연결(Strongly Connected) : 두 정점 u, v에 대하여 u에서 v, v에서 u로 가는 경로가 존재할 때, 두 정점 와 v는 강하게 연결되어 있다라고 함
  - 강한 연결 요소(Strongly Connected Component) : 그래프 내의 임의의 두 정점에 대해서, 두 정점이 항상 강한 연결 관계를 만족하는 정점들로 이루어진 최대 그래프
- 트리(Tree) : 사이클이 없으며 연결된 그래프로, 루트 노드가 1개 존재하는 그래프. 자세한 내용은 [tree]() 문서 참고

<br>

## 그래프의 구현 방법

그래프를 구현하는 대표적인 방법으로는 인접행렬(Adjacency Matrix)로 표현하는 방식 또는 인접리스트(Adjacency List)로 표현하는 방식이 있다.

<p align="center"><img src="https://algorithmtutor.com/images/graph_representation_undirected.png"></p>

### 1. 인접 행렬

#### 1.1. 인접 행렬의 정의

그래프를 인접 행렬로 표현하는 방식은 그래프의 정점(V)이 N개일 때 N x N의 2차원 배열 형태로 표현하는 방식이다. 각 행렬의 값은 두 정점이 연결되어 있을 때 1, 아닐 때 0의 값을 저장한다. 무방향 그래프의 경우 인접 행렬은 대칭 행렬이 되고, 가중치 그래프의 경우 행렬의 각 값은 0과 1이 아닌 각 간선의 가중치 값을 저장한다.

#### 1.2. 인접 행렬의 장단점

두 정점 사이의 간선을 조회할 때는 O(1)의 시간복잡도를 가지고, 정점의 차수를 구할 때는 인접행렬의 해당하는 행(또는 열)만 조회하면 되므로 O(V)의 시간복잡도를 가진다.

일반적으로 간선이 많지 않는 경우 인접 행렬은 희소 행렬(Sparse Matrix)로 많은 양의 낭비되는 메모리 공간이 필요하고, 그래프의 간선의 수를 알고 싶으면 인접행렬 전체를 확인해야 하므로 O(V^2)의 시간복잡도를 가진다.

따라서 두 정점 사이의 인접 여부를 자주 확인해야 하는 경우, 혹은 거의 대부분의 정점이 연결되어 있는 경우(E ~ V^2)에 인접 행렬로 표현된 그래프를 사용하는 것이 효과적이다.

### 2. 인접 리스트

#### 2.1. 인접 리스트의 정의

그래프를 인접 리스트로 표현하는 방식은 각각의 정점에 인접한 정점들을 리스트로 표현하는 방식이다. 즉, 정점의 개수만큼 인접 리스트가 존재하고, 각각의 인접 리스트에는 인접 정점의 정보가 저장된다. 무방향 그래프의 경우 하나의 간선이 추가될 때, 각각의 정점에 대해 반대편 정점의 노드를 추가해야 한다.

#### 2.2. 인접 리스트의 장단점

그래프를 인접 행렬로 표현하는 경우와 달리 간선의 개수 만큼만 저장하면 되므로 메로리 활용 측면에서 효율적이다. 그래프의 간선의 수를 알고 싶다면 모든 정점으로부터 모든 인접리스트를 탐색해야 하므로, O(V+E)의 시간복잡도가 소요된다.

두 정점을 연결하는 간선을 조회하거나 정점의 차수를 구하는 경우 해당 인접리스트를 살펴보아야 하므로 O(deg(V))의 시간복잡도를 갖는다.

따라서 특정 정점에 인접해 있는 다른 정점을 자주 확인하는 경우, 또는 정점이 많이 연결되어 있지 않는 경우(E << V^2)에 인접 리스트로 표현된 그래프를 사용하는 것이 효과적이다. 

### 3. 인접 행렬 vs. 인접 리스트

주어진 그래프의 정점의 개수 V, 간선의 개수 E, 정점의 차수 deg(V) = K라고 하자. 그래프를 인접 행렬로 표현하는 경우와 인접 리스트로 표현하는 경우의 평균적인 시간복잡도를 정리하면 다음 그림과 같다.

<p align="center"><img src="https://miro.medium.com/max/1400/1*wDFBCIvMUBsz243VimOeRQ.png"></p>

일반적인 그래프의 탐색의 경우 특정 정점에서 인접해 있는 정점을 찾아가는 경우가 많고, 간선의 개수가 정점의 개수에 비하여 적은 경우가 많으므로 인접 리스트를 활용한 그래프의 자료 구조를 많이 활용한다.

<br>

## 그래프와 알고리즘

그래프를 활용한 알고리즘은 다음 문서를 참조한다.

- [그래프의 탐색(Graph Traverse)]()

- [최단 경로(Shortest Path)]()

- [최소 신장 트리(Minimum Spanning)]() 

  
